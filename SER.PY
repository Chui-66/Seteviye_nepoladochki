import socket  # Импорт модуля для работы с сетевыми соединениями

HOST = "0.0.0.0"  # Сервер будет слушать все доступные сетевые интерфейсы
PORT = 13337  # Порт, на котором сервер будет принимать подключения

with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:  # Создание TCP-сокета
    s.bind((HOST, PORT))  # Привязка сокета к адресу и порту
    s.listen()  # Начало прослушивания входящих подключений
    conn, addr = s.accept()  # Принятие подключения (блокирует выполнение до подключения клиента)
    with conn:  # Работа с подключением клиента
        print(f"Connected by {addr}")  # Вывод информации о подключившемся клиенте
        while True:  # Бесконечный цикл для обработки данных от клиента
            data = conn.recv(1024)  # Получение данных от клиента (максимум 1024 байта)
            if not data:  # Если данные пустые (клиент отключился)
                break  # Выход из цикла
            print(data)  # Вывод полученных данных
            conn.sendall(data)  # Отправка полученных данных обратно клиенту (эхо-сервер